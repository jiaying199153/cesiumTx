<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
    <script type="text/javascript" src="./js/ctx.js"></script>
  </head>

  <body>
    <div id="cesiumContainer"></div>
    <script>
      let tdt_tk = "fd4fb068c868ce47117fa02ee6f4c99b";
      var viewer = new Cesium.Viewer("cesiumContainer", {
        selectionIndicator: false,
        homeButton: false, //主页按钮，默认true
        animation: false, //是否显示动画控件
        baseLayerPicker: false, //是否显示图层选择控件
        geocoder: false, //是否显示地名查找控件
        timeline: false, //是否显示时间线控件
        sceneModePicker: true, //是否显示投影方式控件
        navigationHelpButton: false, //是否显示帮助信息控件
        infoBox: false, //是否显示点击要素之后显示的信息
        fullscreenButton: true,
        //天地图影像服务（经纬度）
        imageryProvider: new Cesium.WebMapTileServiceImageryProvider({
          url:
            "http://t{s}.tianditu.com/img_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=img&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=tiles&tk=" +
            tdt_tk,
          layer: "天地图影像",
          style: "default",
          format: "image/jpeg",
          subdomains: ["0", "1", "2", "3", "4", "5", "6", "7"],
          tileMatrixSetID: "GoogleMapsCompatible",
        }),
      });

      //天地图影像中文标记服务（经纬度）
      var tdtCva = new Cesium.WebMapTileServiceImageryProvider({
        url:
          "http://{s}.tianditu.gov.cn/cia_c/wmts?service=wmts&request=GetTile&version=1.0.0" +
          "&LAYER=cia&tileMatrixSet=c&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}" +
          "&style=default&format=tiles&tk=" +
          tdt_tk,
        layer: "tdtCva",
        style: "default",
        format: "tiles",
        tileMatrixSetID: "c",
        subdomains: ["t0", "t1", "t2", "t3", "t4", "t5", "t6", "t7"],
        tilingScheme: new Cesium.GeographicTilingScheme(),
        tileMatrixLabels: [
          "1",
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8",
          "9",
          "10",
          "11",
          "12",
          "13",
          "14",
          "15",
          "16",
          "17",
          "18",
          "19",
        ],
        maximumLevel: 18,
        show: false,
      });
      var layers = viewer.imageryLayers;
      layers.addImageryProvider(tdtCva);

      let rect = Cesium.Rectangle.fromDegrees(73.5, 3.9, 135, 53.5);
      Cesium.Camera.DEFAULT_VIEW_RECTANGLE = rect;
      viewer.camera.flyTo({
        destination: rect,
      });
      //通过VectorTileImageryProvider加载shp数据
      var provider = new Cesium.VectorTileImageryProvider({
        source: "../examples/source/shp/国界线.shp", //or "xxx.shp"
        defaultStyle: {
          outlineColor: "rgb(255,255,255)",
          lineWidth: 2,
          fill: false,
          tileCacheSize: 200,
        },
        maximumLevel: 20,
        minimumLevel: 1,
      });
      var layer = viewer.imageryLayers.addImageryProvider(provider);
    </script>
  </body>
</html>
